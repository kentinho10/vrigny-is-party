
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Admin - Classement</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>üéõÔ∏è Admin Classement</h1>
    <form id="admin-form">
      <input type="text" id="name" placeholder="Nom du joueur" required />
      <input type="number" id="points" placeholder="Points" required />
      <input type="file" id="photo" accept="image/*" required />
      <button type="submit">Ajouter / Mettre √† jour</button>
    </form>
  </div>

  <script>
    document.getElementById("admin-form").addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value;
      const points = parseInt(document.getElementById("points").value);
      const file = document.getElementById("photo").files[0];

      if (!file) return;

      const reader = new FileReader();
      reader.onloadend = () => {
        const base64 = reader.result;
        const data = JSON.parse(localStorage.getItem("classement") || "[]");
        const existing = data.find(p => p.name.toLowerCase() === name.toLowerCase());

        if (existing) {
          existing.points = points;
          existing.photo = base64;
        } else {
          data.push({ name, points, photo: base64 });
        }

        localStorage.setItem("classement", JSON.stringify(data));
        alert("Joueur mis √† jour !");
      };

      reader.readAsDataURL(file);
    });
  </script>
</body>
</html>
